controller:
  # =========================
  # Jenkins image (OK)
  # =========================
  image: "jenkins/jenkins"
  tag: "2.479.1-jdk17"

  # =========================
  # Admin (DEV ONLY)
  # =========================
  admin:
    username: admin
    password: admin123

  serviceType: ClusterIP

  # =========================
  # üî¥ FIX CRASH INIT: PERMISSION
  # =========================
  podSecurityContext:
    fsGroup: 1000

  containerSecurityContext:
    runAsUser: 1000
    runAsGroup: 1000

  # =========================
  # Plugins (T·ªêI THI·ªÇU ‚Äì KH√îNG XUNG ƒê·ªòT)
  # =========================
  installPlugins:
    - kubernetes
    - git
    - workflow-aggregator
    - credentials
    - configuration-as-code
    - docker-workflow

  # ‚ùå T·∫†M TH·ªúI B·ªé blueocean ƒë·ªÉ tr√°nh k√©o th√™m dependency
  # (khi ch·∫°y ·ªïn r·ªìi add l·∫°i sau)

  # =========================
  # Resources
  # =========================
  resources:
    requests:
      cpu: "500m"
      memory: "1Gi"
    limits:
      cpu: "1"
      memory: "2Gi"

  # =========================
  # Persistence (B·∫ÆT BU·ªòC)
  # =========================
  persistence:
    enabled: true
    size: 20Gi

  # =========================
  # Jenkins URL (DEV)
  # =========================
  jenkinsUrl: http://jenkins.jenkins.svc.cluster.local:8080

  # =========================
  # Disable risky defaults (DEV safe)
  # =========================
  installLatestPlugins: false
  installLatestSpecifiedPlugins: false

# ======================================================
# Jenkins Agents (K8s)
# ======================================================
agent:
  enabled: true

  podTemplates:
    maven:
      label: maven
      containers:
        - name: maven
          image: maven:3.9-eclipse-temurin-21
          ttyEnabled: true
          command: cat